<!DOCTYPE html>
<html lang="en" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>کتابوں کی دکان</title>
  <div class="title-text"
    <img src="logo.png" alt="Logo" class="logo" />
  </div>
</div>
  <input type="text" id="searchInput" placeholder="                                                 SEARCH BOOKS"/

  <div id="bookContainer"></div>

  <div class="buttons">
    <button id="showAll">Books</button>
    <button id="showFav">Favorites</button>
  </div>

  <!-- Order popup -->
  <div id="orderPopup" class="popup">
    <div class="popup-content">
      <span class="close-btn" onclick="closePopup()">×</span>
      <h2>آرڈر کرنے کے لیے کسی بھی نمبر پر رابطہ کریں:</h2>
      <ul>
        <li>بلال: <a href="https://wa.me/918887542830" target="_blank">Click Here</a></li>
        <li>حمزہ: <a href="sms:+919208006225?body=Assalamualaikum" target="_blank">Click Here</a></li> <li>ابوذر: <a href="https://wa.me/916387965292" target="_blank">Click Here</a></li>
      </ul>
    </div>
  </div>

  <style>
body {
  background-color: black;}
#searchInput::placeholder {
  color: purple;
}

#searchInput {
  width: 95%;
  padding: 9px;
  font-size: 18px;
  margin-bottom: 20px;
  
  background-color: darkgrey; /* input کا پس منظر */
  color:    lavenderblush;        /* ٹائپ کیا جانے والا متن */
  border: 3px solid greenyellow;
  border-radius: 5px;
}

#bookContainer {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 8px;
  padding-bottom: 20px;
}

.book {
  background: lightgrey;
  padding: 3px;
  border-radius: 3px;
  text-align: center;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
  position: relative;
}

.book img {
  width: 100%;
  max-height: 190px;
  object-fit: contain;
  border-radius: 10px;
}

.price {
  margin-top: 10px;
}

.old {
  text-decoration: line-through;
  color: #888;
  margin-left: 5px;
}

.new {
  font-weight: bold;
  color: red;
}

.book button {
  margin-top: 10px;
  padding: 5px 10px;
  background-color: #0066cc;
  color: white;
  border: none;
  border-radius: 6px;
  cursor: pointer;
}

.star {
  font-size: 24px;
  position: absolute;
  top: 5px;
  left: 1px;
  cursor: pointer;
}

.star.filled {
  color: gold;
}

.buttons {
  display: flex;
  justify-content: space-around;
  margin-top: 20px;
}

.buttons button {
  padding: 10px 20px;
  font-size: 16px;
  border: none;
  border-radius: 8px;
  background-color: white;
  color: black;
  cursor: pointer;
}

/* Popup styling */
.popup {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.4);
  display: none;
  justify-content: center;
  align-items: center;
}

.popup-content {
  background-color: white;
  padding: 20px;
  border-radius: 12px;
  width: 300px;
  text-align: center;
}

.popup-content a {
  color: #0066cc;
  text-decoration: none;
}

.close-btn {
  position: absolute;
  top: 15px;
  left: 20px;
  font-size: 20px;
  cursor: pointer;
}
.footer-buttons {
  position: fixed;
  bottom: 0;
  left: 0;
  width: 100%;
  background: white;
  display: flex;
  justify-content: space-around;
  padding: 10px 0;
  border-top: 1px solid #ccc;
  z-index: 999;
}
.footer-buttons button {
  padding: 10px 20px;
  font-size: 16px;
  border-radius: 10px;
  background: linear-gradient(to right, #ff7e5f, #feb47b);
  color: white;
  border: none;
  cursor: pointer;
}
#bookContainer {
  padding-bottom: 80px; /* نیچے جگہ تاکہ بٹنوں سے نہ ٹکرائے */
}
.logo-title {
  display: flex;
  align-items: center;
  gap: 10px;
  justify-content: flex-end;
  margin-bottom: 20px;
}

.logo {
  width: 382px;
  height: 165px;
}
  </style>
  <script>
const books = [
  {
    name: "اردو ادب",
    image: "book1.png",
    oldPrice: 800,
    newPrice: 500
  },
  {
    name: "اسلامی تاریخ",
    image: "book2.png",
    oldPrice: 900,
    newPrice: 650
  },
  {
    name: "تفسیر قرآن جلد دوم",
    image: "book3.png",
    oldPrice: 1200,
    newPrice: 850
  },
{
  name: " نورالانوار",
  image: "book4.png",
  oldPrice: 500,
  newPrice: 450
},
{
    name: "تفسیر قرآن",
    image: "book5.png",
    oldPrice: 1200,
    newPrice: 850
  },
{
  name: "تفسیر قرآن",
  image: "book6.png",
  oldPrice: 1200,
  newPrice: 850
},
{
  name: "سیر قرآن",
  image: "book7.png",
  oldPrice: 1200,
  newPrice: 850
},
];

const container = document.getElementById("bookContainer");
const searchInput = document.getElementById("searchInput");
const showAllBtn = document.getElementById("showAll");
const showFavBtn = document.getElementById("showFav");

function loadBooks(filter = "", onlyFav = false) {
  container.innerHTML = "";
  const favList = JSON.parse(localStorage.getItem("favourites")) || [];

  books.forEach((book, index) => {
    if (
      book.name.includes(filter) &&
      (!onlyFav || favList.includes(index))
    ) {
      const div = document.createElement("div");
      div.className = "book";

      // Star icon
      const star = document.createElement("span");
      star.className = "star";
      star.innerText = favList.includes(index) ? "★" : "☆";
      if (favList.includes(index)) star.classList.add("filled");
      star.addEventListener("click", () => {
        toggleFav(index);
      });
      div.appendChild(star);

      // Book content
      const img = document.createElement("img");
      img.src = book.image;
      img.alt = book.name;

      const h3 = document.createElement("h3");
      h3.innerText = book.name;

      const priceDiv = document.createElement("div");
      priceDiv.className = "price";
      priceDiv.innerHTML = `<span class="old">Rs ${book.oldPrice}</span> <span class="new">Rs ${book.newPrice}</span>`;

      const btn = document.createElement("button");
      btn.innerText = "ORDER";
      btn.addEventListener("click", openPopup);

      div.appendChild(img);
      div.appendChild(h3);
      div.appendChild(priceDiv);
      div.appendChild(btn);

      container.appendChild(div);
    }
  });
}

function toggleFav(index) {
  let favList = JSON.parse(localStorage.getItem("favourites")) || [];
  if (favList.includes(index)) {
    favList = favList.filter(i => i !== index);
  } else {
    favList.push(index);
  }
  localStorage.setItem("favourites", JSON.stringify(favList));
  loadBooks(searchInput.value);
}

searchInput.addEventListener("input", () => {
  loadBooks(searchInput.value);
});

showAllBtn.addEventListener("click", () => {
  loadBooks(); // بس کتابیں دکھانی ہیں
});

showFavBtn.addEventListener("click", () => {
  loadBooks("", true);
});

function openPopup() {
  document.getElementById("orderPopup").style.display = "flex";
  history.pushState({ popup: true }, "popup", "#order"); // URL میں hash شامل
}

function closePopup() {
  document.getElementById("orderPopup").style.display = "none";
  if (location.hash === "#order") {
    history.back(); // اگر hash موجود ہے تو واپس پیچھے جائیں
  }
}
window.addEventListener("popstate", () => {
  // جب back button دبایا جائے
  document.getElementById("orderPopup").style.display = "none";
});

loadBooks();
  </script>
</body>
</html>